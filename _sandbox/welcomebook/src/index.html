<!DOCTYPE html>
<html>
<head>
    <title>Welcome Book</title>
    <meta name="viewport" content="width=device-width,height=device-height, initial-scale=1, maximum-scale=3.0, minimum-scale=1">
    <meta property="og:site_name" content="markdown"/>
    <meta property="og:locale" content="ru_RU"/>
    <meta property="og:type" content="contract"/>
    <meta property="og:title" content="markdown"/>
    <meta property="og:description" content="markdown"/>
    <meta property="og:url" content="https://zababurinsv.github.io/design/"/>
    <meta property="og:image" content="https://i.imgur.com/pSrPUkJ.jpg"/>
    <meta property="og:image:width" content="537"/>
    <meta property="og:image:height" content="240"/>
    <link rel="shortcut icon"
          href="data:image/png;base64, AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbbv+DGW3/mRlt/5kZbf+ZGq6/hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGa3/ohkt/7/Zbj//2S3/v9lt/6WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGm5/iRlt/74Zbj//2W4//9luP//Zbf++mi4/i4gIPciGhr24hsb9uwbG/bsGhr24CEh9xoAAAAAAAAAAAAAAABnuP5mZLf+/2W4//9luP//Zbj//2S3/v9muP5yGBj2rhMT9v8TE/b/ExP2/xMT9f8YGPWkAAAAAAAAAAAAAAAAb7z/BGW3/tZluP//Zbj//2W4//9lt/7gJzH3ShMT9f8TE/b/ExP2/xMT9v8TE/b/ExP1/CAg9joAAAAAAAAAAAAAAABmuP5GZLf+6GS3/uhkt/7oZbf+UhgY9YQSEvX/ExP2/xMT9v8TE/b/ExP2/xIS9f8aGvZ8AAAAAD4++gQgIPZ6IiL2hiIi9oYgIPZ8KCj5BAAAAAAtLfgUFBT17BMT9v8TE/b/ExP2/xMT9v8VFfXoLCz4DgAAAAAaGvZqEhL1/xMT9v8TE/b/EhL1/xsb9nIAAAAAAAAAABwc9m4SEvX/ExP2/xMT9v8SEvX/HR32ZAAAAAAnJ/gSFRX16hMT9v8TE/b/ExP2/xMT9v8UFPXuJyf4Fp2xlAKNnqUYLC/mfhYW83ATE/VuFxf1aDc3+gIAAAAAGBj1fhIS9f8TE/b/ExP2/xMT9v8TE/b/ExP1/xkZ9YaGn3yIhZ57/4Wee/+Gn3yKAAAAAAAAAAAAAAAAAAAAACMj9zYTE/X8ExP2/xMT9v8TE/b/ExP2/xMT9f9JUshihZ57+IaffP+Gn3z/hZ579oigfiYAAAAAAAAAAAAAAAAAAAAAGBj1oBIS9f8TE/b/ExP2/xMT9f8YGPWmiKB+PIWee/+Gn3z/hp98/4Wee/+HoH06AAAAAAAAAAAAAAAAAAAAACUl9xgVFfXOExP11BMT9dQUFPXQJib3HgAAAACGn3ymhp98/4affP+Gn3ymAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiKB+EIihf0CIoX9AiKB+EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADg/wAA4MMAAOCBAADggQAA8QEAAOeBAADDwwAAgf8AAIAPAACBDwAAgQ8AAMMPAAD//wAA//8AAA=="
          type="image/png">
</head>
<body>
<div class="welcome__book">
<!--    <div class="welcome-general">-->
<!--        <slot name="welcome-general"></slot>-->
<!--    </div>-->
    <slot name="welcome-menu"></slot>
    <div class="body">
        <section class='slider parallax-container-on' data-id="0" >
            <slot name="welcome-section-0"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="1">
            <slot name="welcome-section-1"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="2">
            <slot name="welcome-section-2"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="3">
            <slot name="welcome-section-3"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="4">
            <slot name="welcome-section-4"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="5">
            <slot name="welcome-section-5"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="6">
            <slot name="welcome-section-6"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="7">
            <slot name="welcome-section-7"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="8">
            <slot name="welcome-section-8"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="9">
            <slot name="welcome-section-9"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="10">
            <slot name="welcome-section-10"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="11">
            <slot name="welcome-section-11"></slot>
        </section>
        <section class='slider parallax-container-off' data-id="12">
            <slot name="welcome-section-12"></slot>
        </section>
    </div>
</div>

<welcome-section slot="welcome-section-0">
    <div class='parallax'>
        <img src='./this/img/north_tower.png'/>
        <slot name="welcome-header"></slot>
    </div>
    <div class='teaser'>
        <div class='first-page'>
            <div class="description">
                   <p class="description-title">Привет!</p>
                   <p class="description-title">Мы рады приветствовать тебя в команде</p>
                   <h1>Цифромед</h1>
                   <div class="description-content">
                       <p class="description-text">
                           Мы знаем, что в первое время у тебя может возникнуть масса самых разнообразных вопросов о Компании, ее структуре, особенностях организации работы, перспективах роста и многом другом. Каждый из нас задавал себе подобные вопросы, когда начинал свою карьеру в Компании и мы понимаем, как важно получить на них своевременные и полные ответы.
                       </p>
                       <p class="description-text">
                           Для того, чтобы ты смог быстрее освоиться в нашей Компании и уверенно ориентироваться в новой обстановке, мы подготовили Welcome Book. В нем содержится вся необходимая в первые месяцы работы информация, даны ответы на многие важные вопросы и полезные рекомендации по успешному прохождению испытательного срока и скорейшей адаптации на новом месте.
                       </p>
                       <p class="description-content-end">
                           Желаем тебе успехов и будем рады оказать поддержку в нужную минуту!
                       </p>
                   </div>
            </div>
            <div class="fer-scroll">
                <slot name="fer-scroll"></slot>
            </div>
        </div>
    </div>

    <fer-scroll slot="fer-scroll">
        <div class="welcome__scroll">
            <div class="scroll">
                <div class="scroll__up-block">
                    <div class="scroll__left"></div>
                    <div class="scroll__right"></div>
                </div>
                <p class="scroll__title">scroll</p>
            </div>
        </div>
    </fer-scroll>


    <welcome-header slot="welcome-header">
        <img class='welcome__logo' src="./this/icons/logo.svg"/>
        <div class="welcome__wrapper">
            <div class="welcome__link">
                <slot name="company-struct"></slot>
            </div>
        </div>

<!--        <fer-button-->
<!--                slot="company-struct"-->
<!--                class="fer-link"-->
<!--                data-type="welcome_button_company"-->
<!--                data-id="company"-->
<!--                data-type="welcomebook"-->
<!--                data-css-shadow="welcomebook2"-->
<!--        >-->
<!--            <div class="container">-->
<!--                <div class="title">Сайт Компании</div>-->
<!--            </div>-->
<!--        </fer-button>-->
    </welcome-header>
</welcome-section>

<welcome-section slot="welcome-section-1">
    <div class='parallax image-background'>
        <img class="image-scale" src='./this/img/pg2.png'/>
    </div>
    <img class="image-scale opacity" src='./this/img/pg2.png'/>
    <div class='teaser'>
        <div class='content'>
            <div class="description-without-background">
                <div class="description-page">
                    <p class="text-offset description-about-compeny">Важное о компании</p>
                    <ul class="text-offset description-ul">
                        <li>Структура компании</li>
                        <li>Наши продукты</li>
                        <li>Что мы ценим друг в друге?</li>
                        <li>График работы</li>
                        <li>Дресс-код</li>
                        <li>Переговорные комнаты</li>
                        <li>Зарплата</li>
                        <li>Отпуск</li>
                        <li>Обед</li>
                        <li>Прочие радости</li>
                    </ul>
                </div>
                <div class="welcome-logo">
                    <slot name="welcome-logo"></slot>
                </div>
            </div>
<!--            <slot name="welcome-logo"></slot>-->
        </div>
    </div>


    <welcome-logo slot="welcome-logo">
            <div class="welcome-logo">
                <div class="square-buttom">
                  <p class="square-title">больше</p>
                </div>
            </div>
    </welcome-logo>

<!--    <div class='teaser'>-->
<!--        <div class='content'>-->
<!--            <div class="knowledge">больше</div>-->
<!--        </div>-->
<!--    </div>-->
</welcome-section>

<welcome-section slot="welcome-section-2">
    <div class='parallax image-background'>
        <img class="image-scale" src='./this/img/pg3.png'/>
    </div>
    <img class="image-scale opacity" src='./this/img/pg3.png'/>
    <div class='teaser'>
        <div class='content'>
            <div class="description-without-background">
                <div class="description-page">
                    <p class="text-offset description-about-resources">КОРПОРАТИВНАЯ КУЛЬТУРА</p>
                    <ul class="text-offset description-ul-2">
                        <li>Обращение к коллегам</li>
                        <li>Лого, официальные бланки, реквизиты</li>
                        <li>Программа рекомендаций</li>
                        <li>Корпоративные праздники</li>
                    </ul>
                </div>
            </div>
            <div class="welcome-logo">
                <slot name="welcome-logo"></slot>
            </div>
        </div>
    </div>
    <welcome-logo slot="welcome-logo">
        <div class="welcome-logo">
            <div class="square-buttom">
                <p class="square-title">больше</p>
            </div>
        </div>
    </welcome-logo>
</welcome-section>

<welcome-section slot="welcome-section-3">
    <div class='parallax image-background'>
        <img class="image-scale" src='./this/img/test.jpg'/>
    </div>
    <img class="image-scale opacity" src='./this/img/test.jpg'/>
    <div class='teaser'>
        <div class='content'>
            <div class="description-without-background-resources">
                <div class="description-page">
                    <p class="text-offset description-about-resources">ИНФОРМАЦИЯ О РЕСУРСАХ И ДОКУМЕНТАХ</p>
                    <ul class="text-offset description-ul-resources">
                        <li>CRM ресурсы</li>
                        <li>Почта</li>
                        <li>Принтер и сканер</li>
                        <li>Техническое оборудование</li>
                        <li>Корпоративная онлайн библиотека</li>
                        <li>Заказ канцелярии</li>
                        <li>Пропускная система</li>
                    </ul>
                </div>
            </div>
            <div class="welcome-logo">
                <slot name="welcome-logo"></slot>
            </div>
        </div>
    </div>

    <welcome-logo slot="welcome-logo">
        <div class="welcome-logo">
            <div class="square-buttom">
                <p class="square-title">больше</p>
            </div>
        </div>
    </welcome-logo>
</welcome-section>

<welcome-section slot="welcome-section-4">
    <div class='parallax image-background'>
        <img class="image-scale" src='./this/img/pg5.png'/>
    </div>
    <img class="image-scale opacity" src='./this/img/pg5.png'/>
    <div class='teaser'>
        <div class='content'>
            <div class="description-without-background">
<!--                <div class="description-page">-->
<!--                    ВАЖное о компании-->
<!--                    <ul class="description-ul">-->
<!--                        <li>Структура компании</li>-->
<!--                        <li>Наши продукты</li>-->
<!--                        <li>Что мы ценим друг в друге?</li>-->
<!--                        <li>График работы</li>-->
<!--                        <li>Дресс-код</li>-->
<!--                        <li>Переговорные комнаты</li>-->
<!--                        <li>Зарплата</li>-->
<!--                        <li>Отпуск</li>-->
<!--                        <li>Обед</li>-->
<!--                        <li>Прочие радости</li>-->
<!--                    </ul>-->
<!--                </div>-->
            </div>
        </div>
    </div>
</welcome-section>

<welcome-general slot="welcome-general" >
        <div class="general__body">
            <div class="general_close">
                <img src="./this/icons/close.svg">
            </div>
            <div class="general_info">
                <div class="general_info_description">
                    Наша компания разделена на Бизнес-единицы, самостоятельные подразделения, которые полностью отвечают за
                    реализацию проектов в своей зоне ответственности.
                    Также в структуре Группы компаний есть несколько продуктовых компаний (мы их называем ДЗО – дочернее
                    зависимое общество)
                    Информация о продуктах ДЗО в разделе Наши продукты
                    Подробно со структурой компании и топ-менеджерами ты можешь познакомиться на корпоративном портале.
                </div>
                <div class="general_info_wrapper">
                    <p class="general_info_name">
                        Владимир Пасынков
                    </p>
                    <p class="general_info_status">
                        Генеральный директор
                    </p>
                </div>
            </div>
        </div>
</welcome-general>

<welcome-menu slot="welcome-menu">
    <div class="container">
        <div class="slider">
            <div class="square"></div>
        </div>
        <div class="body">
            <slot name="button-0"></slot>
            <slot name="button-1"></slot>
            <slot name="button-2"></slot>
            <slot name="button-3"></slot>
            <slot name="button-4"></slot>
        </div>
    </div>
    <fer-button
            slot="button-0"
            data-id="0"
            data-type="welcome-menu"
            data-css-shadow="menu"
    >
        <p>Приветствие</p>
    </fer-button>

    <fer-button
            slot="button-1"
            data-id="1"
            data-type="welcome-menu"
            data-css-shadow="menu"
    >
        <p>О компании</p>

    </fer-button>

    <fer-button
            slot="button-2"
            data-id="2"
            data-type="welcome-menu"
            data-css-shadow="menu"
    >
        <p>КОРПОРАТИВНАЯ КУЛЬТУРА</p>
    </fer-button>

    <fer-button
            slot="button-3"
            data-id="3"
            data-type="welcome-menu"
            data-css-shadow="menu"
    >
        <p>Ресурсы и документы</p>
    </fer-button>

    <fer-button
            slot="button-4"
            data-id="4"
            data-type="welcome-menu"
            data-css-shadow="menu"
    >
        <p>Спасибо!</p>
    </fer-button>
</welcome-menu>
<script type="module">
    import {events, activeClass, delay} from './this/index.mjs'
    import ferLink from './component/fer-link/index.mjs'
    import ferHash from './component/fer-hash/index.mjs'
    import ferButton from './component/fer-button/index.mjs'
    import ferScroll from './component/fer-scroll/index.mjs'
    import welcomeMenu from './component/welcome-menu/index.mjs'
    import welcomeSection from './component/welcome-section/index.mjs'
    import welcomeHeader from './component/welcome-header/index.mjs'
    import welcomeGeneral from './component/welcome-general/index.mjs'
    import welcomeLogo from './component/welcome-logo/index.mjs'


    const pages = [{
        header: {
            text: "Программа рекомендаций",
        },
        body: [{
            p: [
                {
                    text: "Сотрудники нашей компании готовы рекомендовать работу в Цифромеде своим друзьям и знакомым. Теперь ты тоже можешь это сделать. Активные вакансии можно найти на нашей странице HH.ru ${link1}.",
                    children: [
                        {
                            link1: 'https://hh.ru/employer/4333633?hhtmFrom=vacancy'
                        }
                    ]
                },
                {
                    text: "Смело отправляй их своим друзьям, либо присылай резюме в HR 😊"
                }
            ]
        }]
    }, {
        header: undefined,
        body: [{
            img: './this/img/pg2.png'
        }]

    }]

    console.log('HELP:', {welcomeLogo, welcomeGeneral, ferButton, ferLink, ferHash, ferScroll, welcomeMenu, welcomeSection, welcomeHeader })

    const containersScrollTop = []
    let offset = 0
    let filter = 0

    const config = {
        page: {
            first: {
                isDynamic: true
            }
        }
    }

    const shadow = document.body.attachShadow({mode: "open"});
    shadow.appendChild(document.querySelector('.welcome__book'))

    const indexCss = document.createElement('style')
    indexCss.innerText = `@import "./index.css";`
    document.body.appendChild(indexCss)

    const pageStyle = document.createElement('style')
    pageStyle.innerText = `@import "./shadow.css";`
    shadow.appendChild(pageStyle)

    const parallaxCss = document.createElement('style')
    parallaxCss.innerText = `@import "./parallax.css";`
    shadow.appendChild(parallaxCss)

    const scrollCss = document.createElement('style')
    scrollCss.innerText = `@import "./scroll.css";`
    shadow.appendChild(scrollCss)

    let sections = document.body.shadowRoot.querySelectorAll('.slider')
    let menu = document.body.querySelector('welcome-menu')
    let buttons = menu.querySelectorAll('fer-button')

    const current = () => {
        for (let item of buttons) {
            if (item.classList.contains(activeClass)) {
                return parseInt(item.dataset.id, 10)
            }
        }
        return 0
    };


    const sensitivity = 340
    const mousemove = (event) => {
        const currentId = current()
        if(currentId !== 0) {
            if(event.clientX < sensitivity) {
                if(menu.classList.contains('sliderOut')) {
                    menu.classList.replace('sliderOut', 'sliderIn')
                } else {
                    menu.classList.add('sliderIn')
                }
            } else {
                let timeId = setTimeout(() => {
                    clearTimeout(timeId)
                    menu.classList.replace('sliderIn', 'sliderOut')

                }, 1000)
            }
        }
    }

    let isFiring = false;
    function throttleEvent(event) {
        if (isFiring === false) {
            setTimeout(() => {
                mousemove(event);
                isFiring = false;
            }, 300);
        }
        isFiring = true;
    }

    document.addEventListener('mousemove', throttleEvent)

    let position = 0
    let lock = false
    const onWheel = (event) => {
        if(!lock) {
            event = event || window.event;
            let delta = event.deltaY || event.detail || event.wheelDelta;
            position = position + delta
            let currentId = undefined

            if(position > 100) {
                lock = true
                currentId = current()
                console.log()
                if((currentId + 1) < buttons.length) {
                    if(currentId + 1 === 1) {
                        events('welcome-header', {
                            isDisable: true
                        })
                    }
                    buttons[currentId + 1].click();
                    position = 0
                } else {
                    position = 0
                    lock = false
                }
            } else if(position < -100) {
                currentId = current()

                console.log('-------- MINUSE --------------', {
                    currentId: currentId
                })

                if(currentId - 1 >= 0) {
                    lock = true
                    currentId = current()
                    if(currentId -1 === 0) {
                        events('welcome-header', {
                            isDisable: false
                        })
                    }
                    buttons[currentId - 1].click()
                    position = 0
                } else {
                    position = 0
                    lock = false
                }
            }
            lock = false
        }
    }

    let isFiringWheel = false;
    function throttleWheel(event) {
        if (isFiringWheel === false) {
            setTimeout(() => {
                onWheel(event);
                isFiringWheel = false;
            }, 200);
        }
        isFiringWheel = true;
    }

    if (document.body.addEventListener) {
        if ('onwheel' in document) {
            document.body.addEventListener("wheel", throttleWheel);
        } else if ('onmousewheel' in document) {
            document.body.addEventListener("mousewheel", throttleWheel);
        } else {
            document.body.addEventListener("MozMousePixelScroll", throttleWheel);
        }
    } else {
        document.body.attachEvent("onmousewheel", throttleWheel);
    }
</script>
</body>

</html>
